<!doctype html>

<link rel="import" href="../vaadin-themable-mixin/vaadin-themable-mixin.html">
<link rel="import" href="../paper-item/paper-icon-item.html">
<link rel="import" href="../iron-collapse-button/iron-collapse-button.html">
<link rel="import" href="../fc-applayout/fc-menuitem.html">
	
<dom-module id="fc-submenu">	
	<template>
		<style>
			:host fc-menuitem {width: 100%}
		</style>
		<iron-collapse-button>
	  		<fc-menuitem slot="collapse-trigger" label="[[label]]" icon="[[icon]]" image="[[image]]"></fc-menuitem>
	  		<div slot="collapse-content" class="sub-menu">
	  			<slot></slot>
	  		</div>
	  	</iron-collapse-button>				
	</template>
	
	<script>
		class Submenu extends Vaadin.ThemableMixin(Polymer.Element) {
	  		static get is() { return 'fc-submenu'; }
	  		
	  		static get properties() {
		  		return {
		  			label : String,
					icon : String,
					image : String
		  		}
	  		}
	  		
	  		constructor() {
	  		    super();
	  		    this.addEventListener('focus', (event) => {	  		    	    
	  		    	this.root.children[1].focus();
	  		  	});
		  		this.addEventListener('click', (event) => {	  		    	    
	  		    	this.root.children[1].focus();
	  		  	});
	  		}
	  		
		}
		
		customElements.define(Submenu.is, Submenu);
	</script>
</dom-module>	  		

